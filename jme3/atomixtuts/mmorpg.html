<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.4"><title>mmorpg</title><link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"></head><body class="article toc2 toc-left"><div id="header"><div id="toolbar"><a href="https://github.com/ev1lbl0w/jme-wiki-pt-pt/edit/master/src/docs/asciidoc/jme3/atomixtuts/mmorpg.adoc"><i class="fa fa-pencil-square" aria-hidden="true"></i></a><a href="https://github.com/ev1lbl0w/jme-wiki-pt-pt/new/master/src/docs/asciidoc/jme3/atomixtuts/"><i class="fa fa-plus-square" aria-hidden="true"></i></a><input dir="auto" style="position: relative; vertical-align: top;" spellcheck="false" autocomplete="off" class="searchbox__input aa-input" id="doc-search" name="search" placeholder="Search in the doc" required="required" type="search"></div><h1>mmorpg</h1><div class="details"><span class="author" id="author"></span><br><span id="revnumber">version ,</span> <span id="revdate">2016/03/17 20:48</span></div><div id="toc" class="toc2"><div id="toctitle">Table of Contents</div><ul class="sectlevel1"><li><a href="#mmorpg-adventure">MMORPG Adventure</a></li><li><a href="#code-name-ancient-monkey-world-amw">CODE NAME : ANCIENT MONKEY WORLD (AMW)</a><ul class="sectlevel2"><li><a href="#quick-start-for-developers">Quick start for Developers</a></li><li><a href="#quick-start-for-viewers">Quick start for Viewers</a></li><li><a href="#prelude">Prelude</a></li></ul></li><li><a href="#the-adventure-begin">THE ADVENTURE BEGIN</a><ul class="sectlevel2"><li><a href="#the-idea">The idea</a></li><li><a href="#mind-map">Mind map</a></li><li><a href="#game-design">Game design</a></li><li><a href="#mmo-game-architecture-researches">MMO Game Architecture Researches</a></li><li><a href="#amw-architecture">AMW Architecture</a></li></ul></li><li><a href="#process">PROCESS</a><ul class="sectlevel2"><li><a href="#phase-zero">Phase Zero</a></li><li><a href="#phase-1">Phase 1</a></li><li><a href="#phase-2">Phase 2</a></li><li><a href="#phase-3">Phase 3</a></li></ul></li></ul></div></div><div id="content"><div class="sect1"><h2 id="mmorpg-adventure">MMORPG Adventure</h2><div class="sectionbody"></div></div>
<div class="sect2"><h3 id="code-name-ancient-monkey-world-amw">CODE NAME : ANCIENT MONKEY WORLD (AMW)</h3><div class="paragraph"><p><strong>Hi, monkeys</strong></p></div>
<div class="paragraph"><p>After a long project, I have time to sit down a write something about MMORPG and my adventure in making one (if it’s not a forbidden word). :p</p></div>
<div class="admonitionblock warning"><table><tr><td class="icon"><i class="fa icon-warning" title="Warning"></i></td><td class="content"><div class="paragraph"><p>A MMORPG Project is <strong>not easy nor appropriate</strong> for beginner.<br>
Such projects need a lot of skills, knowledge, passions and efforts to accomplish…<br>
This tutorial just 've written down as the process of one no warranty attempt start by forum members : @atomix and … ()</p></div></td></tr></table></div>
<div class="paragraph"><p>The project will be a community project, that mean Open-source and non-profit, code name :
<strong>Ancient Monkey World.</strong></p></div>
<div style="text-align: right;" class="imageblock"><div class="content"><img src="http://digital-art-gallery.com/oid/66/1356x1600_12073_Monkey_King_2d_fantasy_character_monkey_king_picture_image_digital_art.jpg" alt="1356x1600_12073_Monkey_King_2d_fantasy_character_monkey_king_picture_image_digital_art.jpg" width="300" height=""></div></div>
<div class="sect2"><h3 id="quick-start-for-developers">Quick start for Developers</h3><div class="ulist"><ul><li><p>Forum: <a href="http://hub.jmonkeyengine.org/forum/topic/mmorpg-adventure/">http://hub.jmonkeyengine.org/forum/topic/mmorpg-adventure/</a></p></li><li><p>Wiki: <a href="../../jme3/atomixtuts/mmorpg.html">jme3:atomixtuts:mmorpg</a> and link:http://code.google.com/p/ancient-monkey-world/w/list</p></li><li><p>Sourcecode: <a href="http://code.google.com/p/ancient-monkey-world/">http://code.google.com/p/ancient-monkey-world/</a></p></li><li><p>Plan: <a href="../../jme3/atomixtuts/mmorpg.html#process">jme3:atomixtuts:mmorpg#process</a></p></li><li><p>Issues: <a href="https://code.google.com/p/ancient-monkey-world/issues/list">https://code.google.com/p/ancient-monkey-world/issues/list</a></p></li><li><p>Setup:</p></li><li><p>Tools: <a href="../../jme3/atomixtuts/mmorpg_tools.html">Tools used</a> <a href="../../jme3/atomixtuts/mmorpg/researches/toolset.html">Research about toolset</a></p></li><li><p>Game documents:</p></li><li><p>Art &amp; Assets:</p></li><li><p>License: BSD</p></li></ul></div></div>
<div class="sect2"><h3 id="quick-start-for-viewers">Quick start for Viewers</h3><div class="ulist"><ul><li><p><a href="../../jme3/atomixtuts/mmorpg/phase0.html#detail">Phase 0 - JME 3D in 2D RPG gameplay</a></p></li><li><p><a href="../../jme3/atomixtuts/mmorpg/phase1.html#detail">Phase 1 - Physics and network: faster than the bullet</a></p></li><li><p><a href="../../jme3/atomixtuts/mmorpg/phase2.html#detail">Phase 2 - Quests and Tools</a></p></li><li><p><a href="../../jme3/atomixtuts/mmorpg/phase3.html#detail">Phase 3 - Deploy to the Cloud and PLAY</a></p></li></ul></div></div>
<div class="sect2"><h3 id="prelude">Prelude</h3><div class="paragraph"><p>I cant count how many times people saying that you can not build a MMORPG with just two hands and a computer… That mean no chance a one man army can even write that kind of game, or it going to be a failure. I’m not a fearless programmer nor a naive kid try to impress. I just think I can!</p></div>
<div class="paragraph"><p>I was from a Database center solution then come to Game industry in a strangest kind of accident :p As I was a pure Java programmer than become a fulltime designer. That’s kind of weird but teach me one thing “You can do extraordinary thing with the right tool”… not mentioned efford, time, knowledge, exprerience and passion…</p></div>
<div class="paragraph"><p>The right tools <strong>weapon</strong> I choose is JMonkeyEngine and other opensources project to start to learn.</p></div>
<div class="paragraph"><p>So did I tell you we can make a MMORPG with just an idea and a few thousand hours of working? Indeed. Here is the story:</p></div>
<div class="sect3"><h4 id="0-your-idea">0) Your idea:</h4><div class="paragraph"><p>Let’s say you have a good idea of a Game… an imagination world that people interact and fight, meet, share… you have a story to tell, and want to draw some impressive scenery or beatiful characters. Spend like a few years for the ideas, may be research and play a lot of games, use papers, talk with friends, travel around the world… Until you have concentrade enough for only one good idea.</p></div></div>
<div class="sect3"><h4 id="1-your-skills">1) Your skills:</h4><div class="paragraph"><p>Question: I can draw, can compose music, video, can code, can sing, can write script, can do Java stuff… Is that enough?
Answer: Ummh, NO!
MMORPG is a freaking black-hole of knowledges and experiences requirement. No estimatable amount of knowledge consider enough.
But then I tell you is ENOUGH. At least you can do Java stuff and can draw, you can. The other you will learn when you are on the journey.</p></div>
<div class="ulist"><ul><li><p>+ Programming: For the start, you need to “know” Java, the more the better. If you just write your first “Hello world” program 3 months ago. You are too hurry for a big challenge. Let make it at least 3 year exprience. I have 13 and consider people with much more expriences still facing problems of course. The years does not matter!</p></li><li><p>+ Assets: May be you should know how to draw and 3d stuff, the more the better. I recommend if you are at least 1 year with 3D modelling and animating, and should play around with tools. First is Concept. Then other things come quick : Sound, Sprite,…</p></li><li><p>+ Researching skill: This is very important if you are a one man army or indie team. You have to do research, brain-storming or ask people every time. So try to be active to get knowledge.</p></li></ul></div></div>
<div class="sect3"><h4 id="2-your-workflow">2) Your workflow:</h4><div class="paragraph"><p>try Extreme programing: <a href="http://en.wikipedia.org/wiki/Extreme_programming">http://en.wikipedia.org/wiki/Extreme_programming</a></p></div>
<div class="paragraph"><p>If you never in a professinal workflow before, try to do it simplier as your only have limited man power. Most valuable advice if you’re an artist do programming: Do it like Zen :p</p></div>
<div class="ulist"><ul><li><p>- Smart and active: Research first, try to call out for help if need! Opensource are the key.</p></li><li><p>- Flexible but manageable: Try to use SVN.</p></li><li><p>- Shoot with both hands: Do both assets and programming can cause a mesh, do one at a time. After finish review, get approved by yourself or the leader. Continue developing.</p></li><li><p>- Pirate spirit: Use place holder as much as your can. Skip concept, may use existed assets. There are plenty of free assets.</p></li><li><p>- Avoid premature optimization: If still concerning about design, make it work first.</p></li><li><p>… [more to come]</p></li></ul></div></div>
<div class="sect3"><h4 id="3-your-tools">3) Your tools:</h4><div class="paragraph"><p>Of course this is big task, Your tools are various from DDC to Image/sound editor… But let’s name a few with zero cost! (mean open-source or free)</p></div>
<div class="ulist"><ul><li><p>- JME SDK and its plugins (Programming, database tools… a God-like tool for smart monkey)</p></li><li><p>- GIMP (2d: concept, texture…)</p></li><li><p>- Blender (3d)… and there are a lot of good 3d tools. Blender are the best integrated tool to JME</p></li><li><p>- [Other assets tool like sound editors, sprite… come later]</p></li></ul></div></div>
<div class="sect3"><h4 id="4-your-framework">4) Your framework:</h4><div class="paragraph"><p>This is the most important thing that can make your dream possible. So let me speak a bit slowly:
I spend years for researching in this area (MMORPG), I came across WorldForge, Darkstar,… write my own Network engine and related DB stuff using Hypertable, ORM… (bad mislead time)</p></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa icon-tip" title="Tip"></i></td><td class="content"><div class="paragraph"><p>More about MMORPG Architecture and framework Researches: <a href="../../jme3/atomixtuts/mmorpg/researches.html">researches</a></p></div></td></tr></table></div>
<div class="paragraph"><p>And finally I found a nice, free but powerful framework: The Threerings project <a href="http://www.threerings.net/code/">http://www.threerings.net/code/</a> 2 year ago.</p></div>
<div class="paragraph"><p>It taken time to research and admit that they do it nicely and scalable (i’m not going to blow it up). If you think you are better than me in reviewing go ahead, i also need valuabe comperations of framework at the moment.</p></div>
<div class="paragraph"><p>So what I tell you that amount of tool are pretty enough for thousand players game. I’m not going to do Three rings advertisment, for short, it’s your chance to build a MMORPG.</p></div>
<div class="paragraph"><p>What you will see at first that the OOO even support 3D stuff, as some of their developer also contribute in JME version2, then write their own engine. It’s quite bad compare to JME at the moment. So maybe you want to use JME3 to do graphics stuff and other tools for Network. Deploying and DB. AI stuff are often quite difficult to write your own but in the end, I will offer you a choice.</p></div>
<div class="admonitionblock important"><table><tr><td class="icon"><i class="fa icon-important" title="Important"></i></td><td class="content"><div class="paragraph"><p>But is it real you can make a MMORPG game with just that?
Of course not. It will take more than thousands of hours to code and to draw, do experiments, fix bugs… This is just advice point out a good way before start your own journey.</p></div></td></tr></table></div>
<div class="paragraph"><p>People may come up with different levels of knowledge and experience. So here and there, they may want to replace an open-source project by their own library. I also write almost every modules of the architure, but for myself I can not provide enough efforts for an opensource project maintaining. I just can keep bad code, release a few good one and write down articles.</p></div>
<div class="paragraph"><p>For people who are exciting of community project as MMORPG, may be this time you can gather up. I’m not guaranty that I’m enough of abitily to make it to the end, but at least we have a working base to start with.</p></div>
<div class="admonitionblock important"><table><tr><td class="icon"><i class="fa icon-important" title="Important"></i></td><td class="content"><div class="paragraph"><p>Anyone interest can PM me as @atomix in the forum?</p></div></td></tr></table></div></div></div></div>
<div class="sect2"><h3 id="the-adventure-begin">THE ADVENTURE BEGIN</h3><div class="sect2"><h3 id="the-idea">The idea</h3><div class="paragraph"><p>In Oriental culture, we all love the legend of Monkey king who traveled to the West and become a Buddha.</p></div>
<div class="paragraph"><p><a href="http://en.wikipedia.org/wiki/Sun_Wukong">http://en.wikipedia.org/wiki/Sun_Wukong</a></p></div>
<div class="paragraph"><p><a href="https://www.google.com/search?q=Monkey+King">https://www.google.com/search?q=Monkey+King</a></p></div>
<div class="paragraph"><p>( Songoku in Japanese )</p></div>
<div class="paragraph"><p>I compose the idea with wild jungle scenes in fictional oriental - western mixed scenery and theme, and adventures along the jouney.</p></div>
<div style="text-align: center;" class="imageblock"><div class="content"><img src="http://fc09.deviantart.net/fs70/i/2011/004/d/5/monkey_king_by_saryth-d36e92m.jpg" alt="monkey_king_by_saryth-d36e92m.jpg" width="400" height=""></div></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa icon-tip" title="Tip"></i></td><td class="content"><div class="paragraph"><p>More about ideas and Game Design [googlecode] and [googledocs] <a href="../../jme3/atomixtuts/mmorpg.html">mmorpg</a></p></div></td></tr></table></div></div>
<div class="sect2"><h3 id="mind-map">Mind map</h3><div class="paragraph"><p>This is the sketch mindmap of the game.</p></div>
<div class="paragraph"><p>iframe::http://text2mindmap.com/JdE5xP[width="100%", height="600px", alt="", scroll="true",border="true",align="false"]</p></div></div>
<div class="sect2"><h3 id="game-design">Game design</h3></div>
<div class="sect2"><h3 id="mmo-game-architecture-researches">MMO Game Architecture Researches</h3><div class="sect3"><h4 id="overal-mmo-game-architecture">Overal MMO Game Architecture</h4><div class="paragraph"><p>In Phase 0 of the development process I intend to use Marauroa and some code from Arriane because the ease of use and clear design!
In <strong>Marauroa</strong> engine they have an excellent short and precise overview MMO game architecture which I will cite below, keep in my the detail implementation like DB or even programming language are optional:</p></div>
<div class="paragraph"><p><em>Marauroa is based on very simple principles:</em></p></div>
<div class="ulist"><ul><li><p>Clients communicate with the server, and vice-versa, using a TCP portable network protocol with reliability in mind to allow a stabler experience when online game lag occurs.</p></li><li><p>To play a game every player needs an account on the server that is identified by an username and a password.</p></li><li><p>Players use their account to login into the server and then choose a 'player' stored under their account to play with. The server then checks the login information using the MySQL backend and loads the player into the game using the persistence engine.</p></li><li><p>Players send actions to the server. The action system is totally open and has nothing hard-coded so you can edit it totally to your game style. The server sends at regular intervals, called turns, a perception to each player to inform them about the state of the game and any relevant state modifications. Marauroa&#8217;s perception system is based on the Delta^2 ideology: simply send what has changed.</p></li><li><p>The server executes some code each turn in order to move the game status on. Using this hook it is simple to code triggers, timeouts, conditions and whatever kind of behavior you need.</p></li><li><p>The server transparently and automatically stores players and game status modifications on the persistence engine, and also information decided by the game developer using their game definition scripts.</p></li><li><p>Game rules can be coded in Java to allow simple and rapid development and without having to know anything about Marauroa&#8217;s internals. Python scripts for the game rules could be supported with a little work.</p></li><li><p>The server generates statistics of usage which are stored in a MySQL or H2 database (so you can later generate fancy statistics from them). Or in case you don&#8217;t require them, they can be disabled to save CPU cycles and disk space. Marauroa features a modular structure that means modules can be changed and disabled without affecting the operation of other modules.</p></li><li><p>Both the server and clients are fully and wisely documented, with documentation about specification and design and not just <abbr title="Application Programming Interface">API</abbr> documentation.</p></li></ul></div>
<div class="paragraph"><p>Review the full description here</p></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa icon-tip" title="Tip"></i></td><td class="content"><div class="paragraph"><p><a href="http://arianne.sourceforge.net/engine/marauroa.html">http://arianne.sourceforge.net/engine/marauroa.html</a></p></div></td></tr></table></div>
<div class="paragraph"><p>As said, the architecture and the components of a MMORPG game will be kept but part by part will be swaped or replaced as the process go. Why? Because there are better solutions new technologies nowaday. Now let take a look at the three things call the “Triangle of Bedmudas in game design.</p></div></div>
<div class="sect3"><h4 id="entity-system">Entity system</h4><div class="paragraph"><p>Yeah, this is not really new. In fact, the Entity system wave was from 2006-2007, as
<a href="http://t-machine.org/index.php/2007/09/03/entity-systems-are-the-future-of-mmog-development-part-1/">http://t-machine.org/index.php/2007/09/03/entity-systems-are-the-future-of-mmog-development-part-1/</a>
and almost become a standard solution in MMO world.</p></div>
<div class="paragraph"><p>The idea of Entity System are descripted better with details here:
<a href="../../jme3/contributions/entitysystem/introduction.html">Entity system Introduction</a></p></div>
<div class="paragraph"><p>So, as you see, JME community already offer 2-3 Entity System solutions. As the guys discuss in the forum, the code base of the ES should be kept rather small and compact because it&#8217;s going to be involve in every game cycle. The first thing should be revolved and change from Marauroa code base is the Entity System intergration which also with be the base of other additons in the future.</p></div></div>
<div class="sect3"><h4 id="event-system">Event system</h4><div class="paragraph"><p>What&#8217;s the hurry for a game event system?
Yeah, event system here is not just the event (message) broadcasting. Because game technologies involve more and more parallelism, especially to be corporate with networking, the event system should also be considered again.</p></div>
<div class="paragraph"><p>Event system should encourage decoupeling and give the developer more strength and controls. Also ease of use, ightweight, non blocking, non replicating…etc</p></div>
<div class="paragraph"><p>I&#8217;m not going to the details here but you can read more about it in the researches.</p></div></div>
<div class="sect3"><h4 id="network-system">Network system</h4><div class="paragraph"><p>This problem can be considered a challange in design. No one can say it easy or they not write it and test it yet. C</p></div>
<div class="paragraph"><p>orporate with entity, event and networking make a “Death point for every design. For big MMO game (and other kind of massive real time system) in 4-5 years ago, they strugge to make those 3 work together, by trying to reduce the network cost, multi thread the server, and do C++ tricks in memory, pointer…etc . Yeah, we will have to do them same to be optimized …</p></div>
<div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa icon-tip" title="Tip"></i></td><td class="content"><div class="paragraph"><p>For further reading: GOTO <a href="../../jme3/atomixtuts/mmorpg/researches.html">researches</a></p></div></td></tr></table></div></div>
<div class="sect3"><h4 id="the-chosen-one">The chosen one</h4><div class="quoteblock"><blockquote><div class="paragraph"><p>But can we come up with better overal design first?+Hopefully, yes, this time!</p></div></blockquote></div>
<div class="paragraph"><p>So the asynchronized server, network and event system are widely use nowadays. The are dozen of open source project intended to solve the enterprise problems at once.</p></div>
<div class="literalblock"><div class="content"><pre> Node.js is a good example, the idea is simple but the implementation are truely epic. They've done it beautifully and we (java devs) should have the same thing or get used to it in the mean time.
 The runner up but in the Java world is the Three rings projects, well done and save developer from the hard parts.</pre></div></div>
<div class="paragraph"><p>But till the time of writing, almost no one get it straight into game developing or not into 3D (like Three rings). I considered those general systems can not sastify the needs for <strong>enterprise game developing</strong>! They always try to keep it relatively small because of affair / obsesses it will become un-optimized. But also because of that, they don&#8217;t solve the 3 main problems at once, which lead to the un sastification i mentioned.</p></div>
<div class="paragraph"><p>In the researches you will find an article tell extractly how I use, modify, leverage and optimize Three rings and the existed opensource projects to let them work seamlessly together, without worry about the over engineering!</p></div></div></div>
<div class="sect2"><h3 id="amw-architecture">AMW Architecture</h3></div></div>
<div class="sect2"><h3 id="process">PROCESS</h3><div class="sect2"><h3 id="phase-zero">Phase Zero</h3><div class="paragraph"><p><strong>Start:</strong> July 1st - August 1st</p></div>
<div class="paragraph"><p><strong>Main task:</strong> Setup and Port  MORPG engine Arriane from 2D to 3D. Try and review.</p></div>
<div class="paragraph"><p><a href="../../jme3/atomixtuts/mmorpg/phase0.html">phase0</a></p></div></div>
<div class="sect2"><h3 id="phase-1">Phase 1</h3><div class="paragraph"><p><strong>Start:</strong> August 1st - September 1st</p></div>
<div class="paragraph"><p><strong>Main task:</strong> Unknown</p></div>
<div class="paragraph"><p><a href="../../jme3/atomixtuts/mmorpg/phase1.html">phase1</a></p></div></div>
<div class="sect2"><h3 id="phase-2">Phase 2</h3><div class="paragraph"><p><strong>Start:</strong> September 1st - Oct 1st</p></div>
<div class="paragraph"><p><strong>Main task:</strong> Unknown</p></div>
<div class="paragraph"><p><a href="../../jme3/atomixtuts/mmorpg/phase2.html">phase2</a></p></div></div>
<div class="sect2"><h3 id="phase-3">Phase 3</h3><div class="paragraph"><p><strong>Start:</strong> Oct 1st - Nov 1st</p></div>
<div class="paragraph"><p><strong>Main task:</strong> Unknown</p></div>
<div class="paragraph"><p><a href="../../jme3/atomixtuts/mmorpg/phase3.html">phase3</a></p></div></div></div></div><div id="footer"><div id="footer-text">Version <br>Last updated 2018-01-24 18:52:36 +00:00</div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script>docsearch({
  apiKey: 'a736b6d93de805e26ec2f49b55013fbd',
  indexName: 'jmonkeyengine',
  inputSelector: '#doc-search',
  debug: false // Set debug to true if you want to inspect the dropdown
});</script></body></html>